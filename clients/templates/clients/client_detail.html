{% extends 'base.html' %} {% block content %}
<h2>{{ client.name }}</h2>

<ul>
  <li>Email: {{ client.email|default:"-" }}</li>
  <li>Company: {{ client.company|default:"-" }}</li>
</ul>

<a href="{% url 'client_list' %}" class="btn btn-primary">Back to clients</a>
<a href="{% url 'client_update' client.pk %}" class="btn btn-warning"
  >Edit Client</a
>
<a href="{% url 'client_delete' client.pk %}" class="btn btn-danger">Delete</a>

<hr />

<h4>Projects</h4>

{% if projects %}
<ul class="list-group mb-3">
  {% for project in projects %}
  <li class="list-group-item d-flex justify-content-between align-items-center">
    <div>
      <strong>{{ project.title }}</strong><br />
      <small class="text-muted">{{ project.status }}</small>
    </div>
    <a
      href="{% url 'project_detail' project.pk %}"
      class="btn btn-sm btn-outline-secondary"
      >View</a
    >
  </li>
  {% endfor %}
</ul>
{% else %}
<p class="text-muted">No projects for this client yet.</p>
{% endif %}

<a
  href="{% url 'project_create' %}?client={{ client.pk }}"
  class="btn btn-primary"
  >+ Add Project</a
>
<hr />

<h4>Invoices</h4>

{% if invoices %}
<ul class="list-group mb-3">
  {% for invoice in invoices %}
  <li class="list-group-item d-flex justify-content-between align-items-center">
    <div>
      <strong>#{{ invoice.id }}</strong>
      <span class="badge bg-secondary ms-2"
        >{{ invoice.get_status_display }}</span
      ><br />
      <small class="text-muted">Due {{ invoice.due_date }}</small>
    </div>
    <a
      href="{% url 'invoice_detail' invoice.pk %}"
      class="btn btn-sm btn-outline-secondary"
      >View</a
    >
  </li>
  {% endfor %}
</ul>
{% else %}
<p class="text-muted">No invoices yet.</p>
{% endif %} {% endblock %}
